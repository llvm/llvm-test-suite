list(APPEND CPPFLAGS -D__USE_LARGEFILE64 -D_FILE_OFFSET_BITS=64)
list(APPEND LDFLAGS -lm)
set(FP_TOLERANCE 0.025)
if(SMALL_PROBLEM_SIZE)
  set(RUN_OPTIONS -d data/encoder_small.cfg -p InputFile=data/foreman_part_qcif_444.yuv -p LeakyBucketRateFile=data/leakybucketrate.cfg -p QmatrixFile=data/q_matrix.cfg)
else()
  set(RUN_OPTIONS -d data/encoder.cfg -p InputFile=data/foreman_part_qcif_444.yuv -p LeakyBucketRateFile=data/leakybucketrate.cfg -p QmatrixFile=data/q_matrix.cfg)
endif()
llvm_multisource(lencod)
if(SMALL_PROBLEM_SIZE)
  llvm_test_data(lencod data/encoder_small.cfg)
else()
  llvm_test_data(lencod data/encoder.cfg)
endif()
llvm_test_data(lencod data/foreman_part_qcif_444.yuv data/leakybucketrate.cfg data/q_matrix.cfg)
